Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@locker/shared"),t=require("@locker/distortion"),r=require("@locker/instrumentation"),o=require("@locker/shared-dom");const n=new WeakMap;function createMembraneMarshall$LWS(e){const t=Array,r=ArrayBuffer,o=Error,a=Object,i=Proxy,l=Reflect,s=RegExp,c=Symbol,u=TypeError,p=WeakMap,{for:y,toStringTag:f}=c,d=/\w*$/,h=Symbol.for("@@lockerDebugMode"),S=y("@@lockerLiveValue"),b=y("@@lockerNearMembraneSerializedValue"),g=y("@@lockerNearMembrane"),L=y("@@lockerNearMembraneUndefinedValue"),LOCKER_UNMINIFIED_FLAG$LWS=`${()=>
/* $LWS */
1}`.includes("*");let W=LOCKER_UNMINIFIED_FLAG$LWS&&void 0;const $="function"==typeof BigInt,{assign:P,defineProperties:v,freeze:T,getOwnPropertyDescriptor:w,getOwnPropertyDescriptors:x,isFrozen:O,isSealed:_,prototype:m,seal:A}=a,{__defineGetter__:E,__defineSetter__:B,__lookupGetter__:H,__lookupSetter__:C,hasOwnProperty:j,propertyIsEnumerable:k,toString:D}=m,{apply:M,construct:G,defineProperty:F,deleteProperty:I,get:R,getOwnPropertyDescriptor:N,getPrototypeOf:K,has:V,isExtensible:U,ownKeys:z,preventExtensions:X,set:q,setPrototypeOf:Z}=l,{isArray:Y}=t,{includes:J,indexOf:Q,slice:ee}=t.prototype,{isView:te}=r,re=M(H,r.prototype,["byteLength"]),oe=$?BigInt.prototype.valueOf:void 0,{valueOf:ne}=Boolean.prototype,{toString:ae}=o.prototype,{bind:ie}=Function.prototype,{stringify:le}=JSON,{valueOf:se}=Number.prototype,{revocable:ce}=i,{prototype:ue}=s,{exec:pe,test:ye,toString:fe}=ue,de=M(H,ue,["flags"])||function(){const e=M(fe,this,[]);return M(pe,d,[e])[0]},he=M(H,ue,["source"]),{replace:Se,slice:be,valueOf:ge}=String.prototype,{valueOf:Le}=c.prototype,{get:We,set:$e}=p.prototype,Pe=console,{info:ve}=Pe,Te=eval,we="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||(F(m,"globalThis",{__proto__:null,configurable:!0,get(){return I(m,"globalThis"),this||self}}),globalThis);let xe=!1,Oe=!1;const _e=new s(`${M(Se,"$LWS",[/[\\^$.*+?()[\]{}|]/g,"\\$&"])}(?=\\.|$)`);function alwaysFalse$LWS(){return!1}function identity$LWS(e){return e}const me=LOCKER_UNMINIFIED_FLAG$LWS?()=>{if(xe)return;xe=!0;const e=(()=>{var e;o.prepareStackTrace=(e,t)=>t;const t=(new o).stack;return delete o.prepareStackTrace,Y(t)&&t.length>0?null==(e=t[0])?void 0:e.constructor:void 0})();if("function"!=typeof e)return;const{getEvalOrigin:t,getFunctionName:r,toString:n}=e.prototype;o.prepareStackTrace=function(e,o){return function(e,o){let a="";try{a=M(ae,e,[])}catch(e){a="<error>"}let i=!1;for(let e=0,{length:l}=o;e<l;e+=1){const l=o[e],s=M(r,l,[]);let c=!1;if("string"==typeof s&&"eval"!==s&&M(ye,_e,[s])&&(c=!0),!c){const e=M(t,l,[]);"string"==typeof e&&M(ye,_e,[e])&&(c=!0)}if(c)i||(i=!0,a+="\n    at LWS");else{i=!1;try{a+=`\n    at ${M(n,l,[])}`}catch(e){}}}return a}(e,o)};const{stackTraceLimit:a}=o;("number"!=typeof a||a<20)&&(o.stackTraceLimit=20)}:noop$LWS;function noop$LWS(){}const Ae=e?e=>M(oe,e,[]):noop$LWS,Ee=e?e=>M(ne,e,[]):noop$LWS,Be=e?e=>M(se,e,[]):noop$LWS,He=e?e=>{if(e!==ue){const t=M(he,e,[]);return le({__proto__:null,flags:M(de,e,[]),source:t})}}:noop$LWS,Ce=e?e=>M(ge,e,[]):noop$LWS,je=e?e=>M(Le,e,[]):noop$LWS,ke=e?e=>{switch(M(D,e,[])){case"[object Boolean]":return Ee(e);case"[object Number]":return Be(e);case"[object RegExp]":return He(e);case"[object String]":return Ce(e);case"[object Object]":try{return je(e)}catch(e){}if($)try{return Ae(e)}catch(e){}default:return}}:noop$LWS,De=e?e=>{try{return je(e)}catch(e){}if($)try{return Ae(e)}catch(e){}try{return Ee(e)}catch(e){}try{return Be(e)}catch(e){}try{return He(e)}catch(e){}try{return Ce(e)}catch(e){}}:noop$LWS;return function(r,o,s){const{distortionCallback:c=identity$LWS,instrumentation:y}=P({__proto__:null},s),d=!e&&"object"==typeof y&&null!==y,$={__proto__:null,0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,n:void 0},oe={__proto__:null,0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,n:void 0},ne=new p,ae=new p,le=d?y.startActivity:void 0;let se,pe,ye,fe,de,Se,ge,Le,xe,_e,Ae,Ee,Be,He,Ce,je,Me,Ge,Fe,Ie,Re,Ne,Ke,Ve,Ue,ze,Xe,qe=0,Ze=!1;const Ye=e?(e,t,r)=>{r[t]=!1;const o=getTransferablePointer$LWS(e);let n;try{ge(o,t,(e,t,r,o,a,i,l)=>{n=createDescriptorFromMeta$LWS(t,r,o,a,i,l)})}catch(e){var a;const t=null!=(a=Xe)?a:e;throw Xe=void 0,t}n?F(e,t,n):delete e[t]}:noop$LWS;function copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(e,t){let r,o,n;d&&(r=le("callableBatchGetPrototypeOfAndGetOwnPropertyDescriptors"));try{o=Ve(e,(...e)=>{const r={};for(let t=0,{length:o}=e;t<o;t+=7){r[e[t]]=createDescriptorFromMeta$LWS(e[t+1],e[t+2],e[t+3],e[t+4],e[t+5],e[t+6])}v(t,r)})}catch(e){var a;const t=null!=(a=Xe)?a:e;throw Xe=void 0,d&&r.error(t),t}finally{d&&r.stop()}"function"==typeof o?(o(),n=Xe,Xe=void 0):n=null,Z(t,n)}function createApplyOrConstructTrapForZeroOrMoreArgs$LWS(e){const t=1&e,r=t?"callableApplyWithZeroOrMoreArgs":"callableConstructWithZeroOrMoreArgs",o=t?$:oe,n=t?pe:ye;return function(a,i,l){qe=e;const s=t?l:i,{length:c}=s;var u;if(0!==c)return M(null!=(u=o[c])?u:o.n,this,[a,i,l]);let p;d&&(p=le(r));const{foreignTargetPointer:y}=this,f=t?i:l;try{const e=n(y,"object"==typeof f&&null!==f||"function"==typeof f?getTransferablePointer$LWS(f):"undefined"==typeof f?void 0:f);let t;return"function"==typeof e?(e(),t=Xe,Xe=void 0):t=e,t}catch(e){var h;const t=null!=(h=Xe)?h:e;throw Xe=void 0,d&&p.error(t),t}finally{d&&p.stop()}}}function createApplyOrConstructTrapForOneOrMoreArgs$LWS(e){const t=1&e,r=t?"callableApplyWithOneOrMoreArgs":"callableConstructWithOneOrMoreArgs",o=t?$:oe,n=t?pe:ye;return function(a,i,l){qe=e;const s=t?l:i,{length:c}=s;var u;if(1!==c)return M(null!=(u=o[c])?u:o.n,this,[a,i,l]);let p;d&&(p=le(r));const{foreignTargetPointer:y}=this,f=t?i:l;try{const{0:e}=s,t=n(y,"object"==typeof f&&null!==f||"function"==typeof f?getTransferablePointer$LWS(f):"undefined"==typeof f?void 0:f,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e);let r;return"function"==typeof t?(t(),r=Xe,Xe=void 0):r=t,r}catch(e){var h;const t=null!=(h=Xe)?h:e;throw Xe=void 0,d&&p.error(t),t}finally{d&&p.stop()}}}function createApplyOrConstructTrapForTwoOrMoreArgs$LWS(e){const t=1&e,r=t?"callableApplyWithTwoOrMoreArgs":"callableConstructWithTwoOrMoreArgs",o=t?$:oe,n=t?pe:ye;return function(a,i,l){qe=e;const s=t?l:i,{length:c}=s;var u;if(2!==c)return M(null!=(u=o[c])?u:o.n,this,[a,i,l]);let p;d&&(p=le(r));const{foreignTargetPointer:y}=this,f=t?i:l;try{const{0:e,1:t}=s,r=n(y,"object"==typeof f&&null!==f||"function"==typeof f?getTransferablePointer$LWS(f):"undefined"==typeof f?void 0:f,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t);let o;return"function"==typeof r?(r(),o=Xe,Xe=void 0):o=r,o}catch(e){var h;const t=null!=(h=Xe)?h:e;throw Xe=void 0,d&&p.error(t),t}finally{d&&p.stop()}}}function createApplyOrConstructTrapForThreeOrMoreArgs$LWS(e){const t=1&e,r=t?"callableApplyWithThreeOrMoreArgs":"callableConstructWithThreeOrMoreArgs",o=t?$:oe,n=t?pe:ye;return function(a,i,l){qe=e;const s=t?l:i,{length:c}=s;var u;if(3!==c)return M(null!=(u=o[c])?u:o.n,this,[a,i,l]);let p;d&&(p=le(r));const{foreignTargetPointer:y}=this,f=t?i:l;try{const{0:e,1:t,2:r}=s,o=n(y,"object"==typeof f&&null!==f||"function"==typeof f?getTransferablePointer$LWS(f):"undefined"==typeof f?void 0:f,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):"undefined"==typeof r?void 0:r);let a;return"function"==typeof o?(o(),a=Xe,Xe=void 0):a=o,a}catch(e){var h;const t=null!=(h=Xe)?h:e;throw Xe=void 0,d&&p.error(t),t}finally{d&&p.stop()}}}function createApplyOrConstructTrapForFourOrMoreArgs$LWS(e){const t=1&e,r=t?"callableApplyWithFourOrMoreArgs":"callableConstructWithFourOrMoreArgs",o=t?$:oe,n=t?pe:ye;return function(a,i,l){qe=e;const s=t?l:i,{length:c}=s;var u;if(4!==c)return M(null!=(u=o[c])?u:o.n,this,[a,i,l]);let p;d&&(p=le(r));const{foreignTargetPointer:y}=this,f=t?i:l;try{const{0:e,1:t,2:r,3:o}=s,a=n(y,"object"==typeof f&&null!==f||"function"==typeof f?getTransferablePointer$LWS(f):"undefined"==typeof f?void 0:f,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):"undefined"==typeof r?void 0:r,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):"undefined"==typeof o?void 0:o);let i;return"function"==typeof a?(a(),i=Xe,Xe=void 0):i=a,i}catch(e){var h;const t=null!=(h=Xe)?h:e;throw Xe=void 0,d&&p.error(t),t}finally{d&&p.stop()}}}function createApplyOrConstructTrapForAnyNumberOfArgs$LWS(e){const r=1&e,o=r?"callableApplyWithAnyNumberOfArgs":"callableConstructWithAnyNumberOfArgs",n=r?pe:ye;return function(a,i,l){let s;qe=e,d&&(s=le(o));const{foreignTargetPointer:c}=this,u=r?l:i,p=r?i:l,{length:y}=u;let f=2;const h=new t(y+f);h[0]=c;try{h[1]="object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p;for(let e=0;e<y;e+=1){const t=u[e];h[f++]="object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t}const e=M(n,void 0,h);let t;return"function"==typeof e?(e(),t=Xe,Xe=void 0):t=e,t}catch(e){var S;const t=null!=(S=Xe)?S:e;throw Xe=void 0,d&&s.error(t),t}finally{d&&s.stop()}}}function createDescriptorFromMeta$LWS(e,t,r,o,n,a){const i={__proto__:null};if(e!==L&&(i.configurable=e),t!==L&&(i.enumerable=t),r!==L&&(i.writable=r),n!==L){let e;"function"==typeof n?(n(),e=Xe,Xe=void 0):e=n,i.get=e}if(a!==L){let e;"function"==typeof a?(a(),e=Xe,Xe=void 0):e=a,i.set=e}if(o!==L){let e;"function"==typeof o?(o(),e=Xe,Xe=void 0):e=o,i.value=e}return i}function createPointer$LWS(e){return()=>{Xe=e}}const Je=e?e=>{let t=M(We,ne,[e]);if(void 0===t){const r=je(getTransferablePointer$LWS(e));"function"==typeof r&&(r(),t=Xe,Xe=void 0,t&&M($e,ne,[e,t]))}return t}:noop$LWS;function getTransferablePointer$LWS(t){let r=M(We,ae,[t]);if(r)return r;const o=e?t:c(t);if(o!==t&&typeof o!=typeof t)throw new u(`Invalid distortion ${t}.`);let n,a=8;try{Y(o)&&(a=1)}catch(e){a=16}if("function"==typeof o){n=0,a=2;try{"prototype"in o||(a|=4);const e=N(t,"length");if(e){Z(e,null);const{value:t}=e;"number"==typeof t&&(n=t)}void 0}catch(e){}}return r=se(createPointer$LWS(o),a,n,undefined),M($e,ae,[t,r]),r}const Qe=e?e=>{if(Oe)return;Oe=!0;const t=Y(e)&&e.length>0,r=t?{__proto__:null}:void 0,o=t?(t,r)=>M(J,e,[r])?{configurable:!1,enumerable:M(k,t,[r]),get:n(r),set:void 0}:N(t,r):void 0,n=t?e=>{let t=r[e];return void 0===t&&(t=M(ie,u,[]),r[e]=t),t}:void 0,s=t?(t,r)=>M(J,e,[r])?n(r):M(H,t,[r]):void 0,c=t?(t,r)=>M(J,e,[r])?void 0:M(C,t,[r]):void 0,u=t?()=>we:void 0,wrapDefineAccessOrProperty$LWS=e=>{const{length:t}=e,r=2===t;return new i(e,{apply(o,n,a){if(a.length>=t){const e=r?n:a[0],t=r?a[0]:a[1],o=Je(e);null!=o&&o[t]&&R(e,t)}return M(e,n,a)}})},wrapLookupAccessor$LWS=(e,r)=>new i(e,{apply(o,n,a){if(a.length){const{0:e}=a,o=Je(n);if(null!=o&&o[e]&&R(n,e),t&&n===we)return r(n,e)}return M(e,n,a)}}),wrapGetOwnPropertyDescriptor$LWS=e=>new i(e,{apply(r,n,a){if(a.length>1){const{0:e,1:r}=a,n=Je(e);if(null!=n&&n[r]&&R(e,r),t&&e===we)return o(e,r)}return M(e,n,a)}});var p;l.defineProperty=wrapDefineAccessOrProperty$LWS(F),l.getOwnPropertyDescriptor=wrapGetOwnPropertyDescriptor$LWS(N),a.getOwnPropertyDescriptor=wrapGetOwnPropertyDescriptor$LWS(w),a.getOwnPropertyDescriptors=new i(p=x,{apply(e,r,n){if(!n.length)return M(p,r,n);const{0:a}=n,i=Je(a),l=a===we&&t,s=l?{}:M(p,r,n);if(!l&&void 0===i)return s;const c=z(l?a:s);for(let e=0,{length:t}=c;e<t;e+=1){const t=c[e],r=!(null==i||!i[t]);if(r&&R(a,t),r||l){const e=l?o(a,t):N(a,t);e?s[t]=e:l||delete s[t]}}return s}}),m.__defineGetter__=wrapDefineAccessOrProperty$LWS(E),m.__defineSetter__=wrapDefineAccessOrProperty$LWS(B),m.__lookupGetter__=wrapLookupAccessor$LWS(H,s),m.__lookupSetter__=wrapLookupAccessor$LWS(C,c)}:noop$LWS;function lockShadowTarget$LWS(e,t){copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(t,e),X(e)}function lookupForeignDescriptor$LWS(e,t,r){let o,n,a,i;d&&(o=le("callableBatchGetPrototypeOfWhenHasNoOwnPropertyDescriptor"));try{n=ze(e,r,(e,o,n,i,l,s,c)=>{a=createDescriptorFromMeta$LWS(o,n,i,l,s,c),!1===a.configurable&&F(t,r,a)})}catch(e){var l;const t=null!=(l=Xe)?l:e;throw Xe=void 0,d&&o.error(t),t}finally{d&&o.stop()}if(a)return a;for("function"==typeof n?(n(),i=Xe,Xe=void 0):i=n;i;){if(a=N(i,r),a)return Z(a,null),a;i=K(i)}}function pushErrorAcrossBoundary$LWS(e){if("object"==typeof e&&null!==e||"function"==typeof e){getTransferablePointer$LWS(e)()}return e}const et=e?(e,t)=>{M($e,ne,[e,t]),Ke(getTransferablePointer$LWS(e),getTransferablePointer$LWS(t))}:noop$LWS;class BoundaryProxyHandler$LWS{constructor(t,o,n,a){let i;this.color=r,this.foreignTargetTraits=0;const l=1&o,s=2&o;i=s?4&o?()=>{}:function(){}:l?[]:{};const{proxy:c,revoke:u}=ce(i,this);var p,y;(this.foreignTargetPointer=t,this.foreignTargetTraits=o,this.nonConfigurableDescriptorCallback=(e,t,r,o,n,a,i)=>{F(this.shadowTarget,e,createDescriptorFromMeta$LWS(t,r,o,n,a,i))},this.proxy=c,this.revoke=u,this.serializedValue=void 0,this.shadowTarget=i,this.staticToStringTag=void 0,s)&&(this.apply=null!=(p=$[n])?p:$.n,this.construct=null!=(y=oe[n])?y:oe.n);if(this.defineProperty=BoundaryProxyHandler$LWS.defaultDefinePropertyTrap,this.deleteProperty=BoundaryProxyHandler$LWS.defaultDeletePropertyTrap,this.isExtensible=BoundaryProxyHandler$LWS.defaultIsExtensibleTrap,this.getOwnPropertyDescriptor=BoundaryProxyHandler$LWS.defaultGetOwnPropertyDescriptorTrap,this.getPrototypeOf=BoundaryProxyHandler$LWS.defaultGetPrototypeOfTrap,this.get=BoundaryProxyHandler$LWS.defaultGetTrap,this.has=BoundaryProxyHandler$LWS.defaultHasTrap,this.ownKeys=BoundaryProxyHandler$LWS.defaultOwnKeysTrap,this.preventExtensions=BoundaryProxyHandler$LWS.defaultPreventExtensionsTrap,this.setPrototypeOf=BoundaryProxyHandler$LWS.defaultSetPrototypeOfTrap,this.set=BoundaryProxyHandler$LWS.defaultSetTrap,16&o&&u(),e)l&&this.makeProxyLive();else{if(8&o){let e=L;M(E,this,["serializedValue",()=>(e===L&&(e=Ne(this.foreignTargetPointer)),e)])}T(this)}}makeProxyLive(){this.deleteProperty=BoundaryProxyHandler$LWS.passthruDeletePropertyTrap,this.defineProperty=BoundaryProxyHandler$LWS.passthruDefinePropertyTrap,this.preventExtensions=BoundaryProxyHandler$LWS.passthruPreventExtensionsTrap,this.set=BoundaryProxyHandler$LWS.passthruSetTrap,this.setPrototypeOf=BoundaryProxyHandler$LWS.passthruSetPrototypeOfTrap,T(this)}makeProxyStatic(){this.defineProperty=BoundaryProxyHandler$LWS.staticDefinePropertyTrap,this.deleteProperty=BoundaryProxyHandler$LWS.staticDeletePropertyTrap,this.get=BoundaryProxyHandler$LWS.staticGetTrap,this.getOwnPropertyDescriptor=BoundaryProxyHandler$LWS.staticGetOwnPropertyDescriptorTrap,this.getPrototypeOf=BoundaryProxyHandler$LWS.staticGetPrototypeOfTrap,this.has=BoundaryProxyHandler$LWS.staticHasTrap,this.isExtensible=BoundaryProxyHandler$LWS.staticIsExtensibleTrap,this.ownKeys=BoundaryProxyHandler$LWS.staticOwnKeysTrap,this.preventExtensions=BoundaryProxyHandler$LWS.staticPreventExtensionsTrap,this.set=BoundaryProxyHandler$LWS.staticSetTrap,this.setPrototypeOf=BoundaryProxyHandler$LWS.staticSetPrototypeOfTrap;const{foreignTargetPointer:e,shadowTarget:t}=this,r=Me(e);if(8&r)return T(this),this.revoke(),void 0;try{copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(e,t)}catch(t){if(Re(e))return T(this),this.revoke(),void 0}if(8&this.foreignTargetTraits&&!V(t,f)){let t="Object";try{t=Ge(e)}catch(e){}"Object"!==t&&(this.staticToStringTag=t)}4&r?T(t):2&r?A(t):1&r?X(t):!1!==W&&(W=Ce("Mutations on the membrane of an object originating outside of the sandbox will not be reflected on the object itself:",e)),T(this)}makeProxyUnambiguous(){Ie(this.foreignTargetPointer)?this.makeProxyLive():this.makeProxyStatic()}static passthruDefinePropertyTrap(e,t,r){let o;qe=4,d&&(o=le("callableDefineProperty"));const n=r;Z(n,null);const{value:a,get:i,set:l}=n,s="value"in n?"object"==typeof a&&null!==a||"function"==typeof a?getTransferablePointer$LWS(a):"undefined"==typeof a?void 0:a:L,c="get"in n?"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):i:L,u="set"in n?"object"==typeof l&&null!==l||"function"==typeof l?getTransferablePointer$LWS(l):l:L;try{return fe(this.foreignTargetPointer,t,"configurable"in n?!!n.configurable:L,"enumerable"in n?!!n.enumerable:L,"writable"in n?!!n.writable:L,s,c,u,this.nonConfigurableDescriptorCallback)}catch(e){var p;const t=null!=(p=Xe)?p:e;throw Xe=void 0,d&&o.error(t),t}finally{d&&o.stop()}}static passthruDeletePropertyTrap(e,t){let r;qe=8,d&&(r=le("callableDeleteProperty"));try{return de(this.foreignTargetPointer,t)}catch(e){var o;const t=null!=(o=Xe)?o:e;throw Xe=void 0,d&&r.error(t),t}finally{d&&r.stop()}}static passthruGetTrap(e,t,r){if(Ze&&(Ze=128===qe),qe=16,Ze){if(t===g)return!0;if(t===b)return this.serializedValue}let o;d&&(o=le("callableGet"));const n="object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):r;try{const e=Se(this.foreignTargetPointer,this.foreignTargetTraits,t,n);let r;return"function"==typeof e?(e(),r=Xe,Xe=void 0):r=e,r}catch(e){var a;const t=null!=(a=Xe)?a:e;throw Xe=void 0,d&&o.error(t),t}finally{d&&o.stop()}}static passthruGetPrototypeOfTrap(e){let t,r,o;qe=64,d&&(t=le("callableGetPrototypeOf"));try{r=Le(this.foreignTargetPointer)}catch(e){var n;const r=null!=(n=Xe)?n:e;throw Xe=void 0,d&&t.error(r),r}finally{d&&t.stop()}return"function"==typeof r?(r(),o=Xe,Xe=void 0):o=null,o}static passthruHasTrap(e,t){let r,o;qe=128,d&&(r=le("callableHas"));try{o=xe(this.foreignTargetPointer,t)}catch(e){var n;const t=null!=(n=Xe)?n:e;throw Xe=void 0,d&&r.error(t),t}finally{d&&r.stop()}return Ze=!o&&(t===g||t===b),o}static passthruIsExtensibleTrap(e){qe=256;const{shadowTarget:t}=this;if(U(t)){let e;d&&(e=le("callableIsExtensible"));const{foreignTargetPointer:o}=this;try{if(_e(o))return!0}catch(t){var r;const o=null!=(r=Xe)?r:t;throw Xe=void 0,d&&e.error(o),o}finally{d&&e.stop()}lockShadowTarget$LWS(t,o)}return!1}static passthruOwnKeysTrap(e){let t,r;qe=512,d&&(t=le("callableOwnKeys"));try{Ae(this.foreignTargetPointer,(...e)=>{r=e})}catch(e){var o;const r=null!=(o=Xe)?o:e;throw Xe=void 0,d&&t.error(r),r}finally{d&&t.stop()}return r||[]}static passthruGetOwnPropertyDescriptorTrap(e,t){let r,o;qe=32,d&&(r=le("callableGetOwnPropertyDescriptor"));try{ge(this.foreignTargetPointer,t,(e,r,n,a,i,l,s)=>{o=createDescriptorFromMeta$LWS(r,n,a,i,l,s),!1===o.configurable&&F(this.shadowTarget,t,o)})}catch(e){var n;const t=null!=(n=Xe)?n:e;throw Xe=void 0,d&&r.error(t),t}finally{d&&r.stop()}return o}static passthruPreventExtensionsTrap(e){qe=1024;const{shadowTarget:t}=this;if(U(t)){let e;d&&(e=le("callablePreventExtensions"));const{foreignTargetPointer:o}=this;let n;try{n=Ee(o)}catch(t){var r;const o=null!=(r=Xe)?r:t;throw Xe=void 0,d&&e.error(o),o}finally{d&&e.stop()}if(2&n)return 1&n||lockShadowTarget$LWS(t,o),!1;lockShadowTarget$LWS(t,o)}return!0}static passthruSetPrototypeOfTrap(e,t){let r;qe=4096,d&&(r=le("callableSetPrototypeOf"));const o=t?getTransferablePointer$LWS(t):t;try{return He(this.foreignTargetPointer,o)}catch(e){var n;const t=null!=(n=Xe)?n:e;throw Xe=void 0,d&&r.error(t),t}finally{d&&r.stop()}}static passthruSetTrap(e,t,r,o){qe=2048;const{foreignTargetPointer:n,proxy:a}=this;return"undefined"==typeof r&&(r=void 0),"undefined"==typeof o&&(o=a),a===o?function(e,t,r,o){let n;d&&(n=le("callableSet"));const a="object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):r,i=getTransferablePointer$LWS(o);try{return Be(e,t,a,i)}catch(e){var l;const t=null!=(l=Xe)?l:e;throw Xe=void 0,d&&n.error(t),t}finally{d&&n.stop()}}(n,t,r,o):function(e,t,r,o,n){const a=lookupForeignDescriptor$LWS(e,t,r);if(a){if("get"in a||"set"in a){const{set:e}=a;return!!e&&(M(e,n,[o]),!0)}if(!1===a.writable)return!1}if(null===n||"function"!=typeof n&&"object"!=typeof n)return!1;const i=N(n,r);return i?(Z(i,null),!("get"in i)&&!("set"in i)&&!1!==i.writable&&(F(n,r,{__proto__:null,value:o}),!0)):F(n,r,{__proto__:null,configurable:!0,enumerable:!0,value:o,writable:!0})}(n,this.shadowTarget,t,r,o)}}return BoundaryProxyHandler$LWS.hybridGetTrap=e?function(e,t,r){const{foreignTargetPointer:o,shadowTarget:n}=this,a=lookupForeignDescriptor$LWS(o,n,t);if(a){const{get:e,value:t}=a;return e?M(e,r,[]):t}if(t===f&&8&this.foreignTargetTraits){let e,t;d&&(e=le("callableGetToStringTagOfTarget"));try{t=Ge(o)}catch(t){var i;const r=null!=(i=Xe)?i:t;throw Xe=void 0,d&&e.error(r),r}finally{d&&e.stop()}if("Object"!==t)return t}}:noop$LWS,BoundaryProxyHandler$LWS.hybridHasTrap=e?function(e,t){let r,o,n;d&&(r=le("callableBatchGetPrototypeOfWhenHasNoOwnProperty"));try{o=Ue(this.foreignTargetPointer,t)}catch(e){var a;const t=null!=(a=Xe)?a:e;throw Xe=void 0,d&&r.error(t),t}finally{d&&r.stop()}if(!0===o)return!0;for("function"==typeof o?(o(),n=Xe,Xe=void 0):n=o;n;){if(M(j,n,[t]))return!0;n=K(n)}return!1}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.pendingDefinePropertyTrap=e?function(e,t,r){return this.makeProxyUnambiguous(),this.defineProperty(e,t,r)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.pendingDeletePropertyTrap=e?function(e,t){return this.makeProxyUnambiguous(),this.deleteProperty(e,t)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.pendingPreventExtensionsTrap=e?function(e){return this.makeProxyUnambiguous(),this.preventExtensions(e)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.pendingSetPrototypeOfTrap=e?function(e,t){return this.makeProxyUnambiguous(),this.setPrototypeOf(e,t)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.pendingSetTrap=e?function(e,t,r,o){return this.makeProxyUnambiguous(),this.set(e,t,r,o)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.staticDefinePropertyTrap=e?F:alwaysFalse$LWS,BoundaryProxyHandler$LWS.staticDeletePropertyTrap=e?I:alwaysFalse$LWS,BoundaryProxyHandler$LWS.staticGetOwnPropertyDescriptorTrap=e?N:noop$LWS,BoundaryProxyHandler$LWS.staticGetPrototypeOfTrap=e?K:()=>null,BoundaryProxyHandler$LWS.staticGetTrap=e?function(e,t,r){const{shadowTarget:o}=this,n=R(o,t,r);return void 0===n&&t===f&&8&this.foreignTargetTraits&&!V(o,t)?this.staticToStringTag:n}:noop$LWS,BoundaryProxyHandler$LWS.staticHasTrap=e?V:alwaysFalse$LWS,BoundaryProxyHandler$LWS.staticIsExtensibleTrap=e?U:alwaysFalse$LWS,BoundaryProxyHandler$LWS.staticOwnKeysTrap=e?z:()=>[],BoundaryProxyHandler$LWS.staticPreventExtensionsTrap=e?X:alwaysFalse$LWS,BoundaryProxyHandler$LWS.staticSetPrototypeOfTrap=e?Z:alwaysFalse$LWS,BoundaryProxyHandler$LWS.staticSetTrap=e?q:alwaysFalse$LWS,BoundaryProxyHandler$LWS.defaultDefinePropertyTrap=e?BoundaryProxyHandler$LWS.pendingDefinePropertyTrap:BoundaryProxyHandler$LWS.passthruDefinePropertyTrap,BoundaryProxyHandler$LWS.defaultDeletePropertyTrap=e?BoundaryProxyHandler$LWS.pendingDeletePropertyTrap:BoundaryProxyHandler$LWS.passthruDeletePropertyTrap,BoundaryProxyHandler$LWS.defaultGetOwnPropertyDescriptorTrap=BoundaryProxyHandler$LWS.passthruGetOwnPropertyDescriptorTrap,BoundaryProxyHandler$LWS.defaultGetPrototypeOfTrap=BoundaryProxyHandler$LWS.passthruGetPrototypeOfTrap,BoundaryProxyHandler$LWS.defaultGetTrap=e?BoundaryProxyHandler$LWS.hybridGetTrap:BoundaryProxyHandler$LWS.passthruGetTrap,BoundaryProxyHandler$LWS.defaultHasTrap=e?BoundaryProxyHandler$LWS.hybridHasTrap:BoundaryProxyHandler$LWS.passthruHasTrap,BoundaryProxyHandler$LWS.defaultIsExtensibleTrap=BoundaryProxyHandler$LWS.passthruIsExtensibleTrap,BoundaryProxyHandler$LWS.defaultOwnKeysTrap=BoundaryProxyHandler$LWS.passthruOwnKeysTrap,BoundaryProxyHandler$LWS.defaultPreventExtensionsTrap=e?BoundaryProxyHandler$LWS.pendingPreventExtensionsTrap:BoundaryProxyHandler$LWS.passthruPreventExtensionsTrap,BoundaryProxyHandler$LWS.defaultSetTrap=e?BoundaryProxyHandler$LWS.pendingSetTrap:BoundaryProxyHandler$LWS.passthruSetTrap,BoundaryProxyHandler$LWS.defaultSetPrototypeOfTrap=e?BoundaryProxyHandler$LWS.pendingSetPrototypeOfTrap:BoundaryProxyHandler$LWS.passthruSetPrototypeOfTrap,Z(BoundaryProxyHandler$LWS.prototype,null),T(BoundaryProxyHandler$LWS.prototype),o(createPointer$LWS(we),e?noop$LWS:()=>{const e=Xe;return Xe=void 0,e},e=>"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,(e,t)=>{e();const r=Xe;Xe=void 0;const o=null==r?void 0:r[t];return createPointer$LWS("undefined"==typeof o?void 0:o)},e?e=>{try{const t=Te(e);return"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):t}catch(e){throw pushErrorAcrossBoundary$LWS(e)}}:noop$LWS,(e,t)=>{e();const r=Xe;Xe=void 0,("object"==typeof r&&null!==r||"function"==typeof r)&&M($e,ae,[r,t])},(e,t,r,o)=>{const{proxy:n}=new BoundaryProxyHandler$LWS(e,t,r,o);return M($e,ae,[n,e]),createPointer$LWS(n)},(e,t,...r)=>{e();const o=Xe;let n,a;Xe=void 0,"function"==typeof t&&(t(),n=Xe,Xe=void 0);for(let e=0,{length:t}=r;e<t;e+=1){const t=r[e];"function"==typeof t&&(t(),r[e]=Xe,Xe=void 0)}try{a=M(o,n,r)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return"object"==typeof a&&null!==a||"function"==typeof a?getTransferablePointer$LWS(a):"undefined"==typeof a?void 0:a},(e,t,...r)=>{e();const o=Xe;let n,a;Xe=void 0,"function"==typeof t&&(t(),n=Xe,Xe=void 0);for(let e=0,{length:t}=r;e<t;e+=1){const t=r[e];"function"==typeof t&&(t(),r[e]=Xe,Xe=void 0)}try{a=G(o,r,n)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return"object"==typeof a&&null!==a||"function"==typeof a?getTransferablePointer$LWS(a):"undefined"==typeof a?void 0:a},(e,t,r,o,n,a,i,l,s)=>{e();const c=Xe;Xe=void 0;let u=!1;try{u=F(c,t,createDescriptorFromMeta$LWS(r,o,n,a,i,l))}catch(e){throw pushErrorAcrossBoundary$LWS(e)}if(u&&!1===r){let e;try{e=N(c,t)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}if(e&&(Z(e,null),!1===e.configurable)){const{value:r,get:o,set:n}=e;s(t,!1,"enumerable"in e?e.enumerable:L,"writable"in e?e.writable:L,"value"in e?"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):r:L,"get"in e?"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o:L,"set"in e?"object"==typeof n&&null!==n||"function"==typeof n?getTransferablePointer$LWS(n):n:L)}}return u},(e,t)=>{e();const r=Xe;Xe=void 0;try{return I(r,t)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}},(e,t,r,o)=>{e();const n=Xe;let a,i;Xe=void 0,"function"==typeof o?(o(),a=Xe,Xe=void 0):a=o;try{i=R(n,r,a)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}if("object"==typeof i&&null!==i||"function"==typeof i)return getTransferablePointer$LWS(i);if(void 0===i&&r===f&&8&t)try{if(!V(n,r)){const e=M(D,n,[]);"[object Object]"!==e&&(i=M(be,e,[8,-1]))}}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return"undefined"==typeof i?void 0:i},(e,t,r)=>{e();const o=Xe;let n;Xe=void 0;try{n=N(o,t)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}if(n){Z(n,null);const{value:e,get:o,set:a}=n;r(t,"configurable"in n?n.configurable:L,"enumerable"in n?n.enumerable:L,"writable"in n?n.writable:L,"value"in n?"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e:L,"get"in n?"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o:L,"set"in n?"object"==typeof a&&null!==a||"function"==typeof a?getTransferablePointer$LWS(a):a:L)}},e=>{e();const t=Xe;let r;Xe=void 0;try{r=K(t)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return"undefined"==typeof r?null:r?getTransferablePointer$LWS(r):r},(e,t)=>{e();const r=Xe;Xe=void 0;try{return V(r,t)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}},e=>{e();const t=Xe;Xe=void 0;try{return U(t)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}},(e,t)=>{e();const r=Xe;let o;Xe=void 0;try{o=z(r)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}M(t,void 0,o)},e=>{e();const t=Xe;Xe=void 0;let r=2;try{X(t)&&(r=4)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return 2&r&&U(t)&&(r|=1),r},(e,t,r,o)=>{e();const n=Xe;let a,i;Xe=void 0,"function"==typeof r?(r(),a=Xe,Xe=void 0):a=r,"function"==typeof o?(o(),i=Xe,Xe=void 0):i=o;try{return q(n,t,a,i)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}},(e,t)=>{e();const r=Xe;let o;Xe=void 0,"function"==typeof t?(t(),o=Xe,Xe=void 0):o=null;try{return Z(r,o)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}},LOCKER_UNMINIFIED_FLAG$LWS&&!e?(...e)=>{if(void 0===W&&(W=M(j,we,[h]),W))try{me(),Fe()}catch(e){}if(W){for(let t=0,{length:r}=e;t<r;t+=1){const r=e[t];"function"==typeof r&&(r(),e[t]=Xe,Xe=void 0)}try{M(ve,Pe,e)}catch(e){}return!0}return!1}:()=>!1,e?(e,...t)=>{e();const r=Xe;Xe=void 0;for(let e=0,{length:o}=t;e<o;e+=7)F(r,t[e],createDescriptorFromMeta$LWS(t[e+1],t[e+2],t[e+3],t[e+4],t[e+5],t[e+6]))}:noop$LWS,e?noop$LWS:e=>{e();const t=Xe;let r;Xe=void 0;try{r=M(We,n,[t])}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return r?getTransferablePointer$LWS(r):r},e?()=>0:e=>{e();const t=Xe;Xe=void 0;try{if(!U(t))return O(t)||_(t)?0:1}catch(e){try{Y(t)}catch(e){return 8}}return 0},e=>{e();const t=Xe;Xe=void 0;try{const e=M(D,t,[]);return"[object Object]"===e?"Object":M(be,e,[8,-1])}catch(e){throw pushErrorAcrossBoundary$LWS(e)}},me,e?(e,...t)=>{const r=M(Q,t,[L]);let o,n;-1===r?o=t:(o=M(ee,t,[0,r]),n=M(ee,t,[r+1])),e();const a=Xe;Xe=void 0;let i=Je(a);void 0===i&&(i={__proto__:null},et(a,i));for(let e=0,{length:t}=o;e<t;e+=1){const t=o[e];i[t]=!0,F(a,t,{__proto__:null,configurable:!0,get:()=>(Ye(a,t,i),R(a,t)),set(e){Ye(a,t,i),q(a,t,e)}})}Qe(n)}:noop$LWS,e?alwaysFalse$LWS:e=>{e();const t=Xe;if(Xe=void 0,t===m)return!1;try{if("object"==typeof t){const{constructor:e}=t;if(e===a)return!0;if(null===K(t)&&("function"!=typeof e||e.prototype!==t))return!0;if(te(t))return!0;try{return M(re,t,[]),!0}catch(e){}try{if(t!==ue)return M(he,t,[]),!0}catch(e){}}return M(j,t,[S])}catch(e){}return!1},e?alwaysFalse$LWS:e=>{e();const t=Xe;Xe=void 0;try{return Y(t),!1}catch(e){}return!0},e?e=>{e();const t=Xe;Xe=void 0;try{return V(t,f)?De(t):ke(t)}catch(e){}}:noop$LWS,e?noop$LWS:(e,t)=>{e();const r=Xe;Xe=void 0,t();const o=Xe;Xe=void 0;try{M($e,n,[r,o])}catch(e){throw pushErrorAcrossBoundary$LWS(e)}},(e,r)=>{e();const o=Xe;let n;Xe=void 0;try{n=x(o)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}const a=z(n),{length:i}=a,l=new t(7*i);for(let e=0,t=0;e<i;e+=1,t+=7){const r=a[e],o=n[r];Z(o,null);const{value:i,get:s,set:c}=o;l[t]=r,l[t+1]="configurable"in o?o.configurable:L,l[t+2]="enumerable"in o?o.enumerable:L,l[t+3]="writable"in o?o.writable:L,l[t+4]="value"in o?"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):i:L,l[t+5]="get"in o?"object"==typeof s&&null!==s||"function"==typeof s?getTransferablePointer$LWS(s):s:L,l[t+6]="set"in o?"object"==typeof c&&null!==c||"function"==typeof c?getTransferablePointer$LWS(c):c:L}let s;M(r,void 0,l);try{s=K(o)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return"undefined"==typeof s?null:s?getTransferablePointer$LWS(s):s},(e,t)=>{e();const r=Xe;let o;Xe=void 0;try{if(M(j,r,[t]))return!0;o=K(r)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return"undefined"==typeof o?null:o?getTransferablePointer$LWS(o):o},(e,t,r)=>{e();const o=Xe;let n,a;Xe=void 0;try{n=N(o,t)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}if(n){Z(n,null);const{value:e,get:o,set:a}=n;return r(t,"configurable"in n?n.configurable:L,"enumerable"in n?n.enumerable:L,"writable"in n?n.writable:L,"value"in n?"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e:L,"get"in n?"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o:L,"set"in n?"object"==typeof a&&null!==a||"function"==typeof a?getTransferablePointer$LWS(a):a:L),void 0}try{a=K(o)}catch(e){throw pushErrorAcrossBoundary$LWS(e)}return"undefined"==typeof a?null:a?getTransferablePointer$LWS(a):a}),(...e)=>{const{6:t,7:r,8:o,9:n,10:a,11:i,12:l,13:s,14:c,15:u,16:p,17:y,18:f,19:d,20:h,22:S,23:b,24:g,25:L,27:W,28:P,29:v,30:T,31:w,32:x,33:O}=e;se=t,pe=r,ye=o,fe=n,de=a,Se=i,ge=l,Le=s,xe=c,_e=u,Ae=p,Ee=y,Be=f,He=d,Ce=h,je=S,Me=b,Ge=g,Fe=L,Ie=W,Re=P,Ne=v,Ke=T,Ve=w,Ue=x,ze=O,$[0]=createApplyOrConstructTrapForZeroOrMoreArgs$LWS(1),$[1]=createApplyOrConstructTrapForOneOrMoreArgs$LWS(1),$[2]=createApplyOrConstructTrapForTwoOrMoreArgs$LWS(1),$[3]=createApplyOrConstructTrapForThreeOrMoreArgs$LWS(1),$[4]=createApplyOrConstructTrapForFourOrMoreArgs$LWS(1),$.n=createApplyOrConstructTrapForAnyNumberOfArgs$LWS(1),oe[0]=createApplyOrConstructTrapForZeroOrMoreArgs$LWS(2),oe[1]=createApplyOrConstructTrapForOneOrMoreArgs$LWS(2),oe[2]=createApplyOrConstructTrapForTwoOrMoreArgs$LWS(2),oe[3]=createApplyOrConstructTrapForThreeOrMoreArgs$LWS(2),oe[4]=createApplyOrConstructTrapForFourOrMoreArgs$LWS(2),oe.n=createApplyOrConstructTrapForAnyNumberOfArgs$LWS(2)}}}const a=TypeError,i=WeakMap,{apply:l}=Reflect,{get:s,set:c}=i.prototype,u=`\n'use strict';\n(${createMembraneMarshall$LWS.toString()})`,p=new i;function createConnector$LWS(e){if("function"!=typeof e)throw new a("Missing evaluator function.");let t=l(s,p,[e]);return void 0===t&&(t=e(u)(!0),l(c,p,[e,t])),t}const y=Symbol.for("@@lockerNearMembraneUndefinedValue"),f=Array,d=Error,h=Object,{push:S}=f.prototype,{assign:b}=h,{apply:g,ownKeys:L}=Reflect;class VirtualEnvironment$LWS{constructor(e){if(void 0===e)throw new d("Missing VirtualEnvironmentOptions options bag.");const{blueConnector:t,redConnector:r,distortionCallback:o,instrumentation:n}=b({__proto__:null},e);let a;const i=t("blue",(...e)=>{a=e},{distortionCallback:o,instrumentation:n}),{0:l,1:s,2:c,3:u,4:p,5:y,6:f,7:h,8:S,9:g,10:L,11:W,12:$,13:P,14:v,15:T,16:w,17:x,18:O,19:_,20:m,21:A,22:E,23:B,24:H,25:C,26:j,27:k,28:D,29:M,30:G,31:F,32:I,33:R}=a;let N;const K=r("red",(...e)=>{N=e}),{0:V,1:U,2:z,3:X,4:q,5:Z,6:Y,7:J,8:Q,9:ee,10:te,11:re,12:oe,13:ne,14:ae,15:ie,16:le,17:se,18:ce,19:ue,20:pe,21:ye,22:fe,23:de,24:he,25:Se,26:be,27:ge,28:Le,29:We,30:$e,31:Pe,32:ve,33:Te}=N;i(V,U,z,X,q,Z,Y,J,Q,ee,te,re,oe,ne,ae,ie,le,se,ce,ue,pe,ye,fe,de,he,Se,be,ge,Le,We,$e,Pe,ve,Te),K(l,s,c,u,p,y,f,h,S,g,L,W,$,P,v,T,w,x,O,_,m,A,E,B,H,C,j,k,D,M,G,F,I,R),this.blueGlobalThisPointer=l,this.blueGetSelectedTarget=s,this.blueGetTransferableValue=c,this.blueCallableGetPropertyValuePointer=u,this.blueCallableLinkPointers=y,this.redGlobalThisPointer=V,this.redCallableGetPropertyValuePointer=X,this.redCallableEvaluate=q,this.redCallableLinkPointers=Z,this.redCallableSetPrototypeOf=ue,this.redCallableDefineProperties=ye,this.redCallableInstallLazyPropertyDescriptors=be}evaluate(e){try{const t=this.redCallableEvaluate(e);return"function"==typeof t?(t(),this.blueGetSelectedTarget()):t}catch(e){var t;throw null!=(t=this.blueGetSelectedTarget())?t:e}}lazyRemapProperties(e,t,r){const o=[this.blueGetTransferableValue(e)];g(S,o,t),null!=r&&r.length&&(o[o.length]=y,g(S,o,r)),g(this.redCallableInstallLazyPropertyDescriptors,void 0,o)}link(...e){let t=this.blueGlobalThisPointer,r=this.redGlobalThisPointer;for(let o=0,{length:n}=e;o<n;o+=1){const n=e[o];t=this.blueCallableGetPropertyValuePointer(t,n),r=this.redCallableGetPropertyValuePointer(r,n),this.redCallableLinkPointers(r,t),this.blueCallableLinkPointers(t,r)}}remapProperties(e,t){const r=this.blueGetTransferableValue(e),o=L(t),{length:n}=o,a=new f(1+7*n);a[0]=r;for(let e=0,r=1;e<n;e+=1,r+=7){const n=o[e],i=t[n],l=b({__proto__:null},i);a[r]=n,a[r+1]="configurable"in l?!!l.configurable:y,a[r+2]="enumerable"in l?!!l.enumerable:y,a[r+3]="writable"in l?!!l.writable:y,a[r+4]="value"in l?this.blueGetTransferableValue(l.value):y,a[r+5]="get"in l?this.blueGetTransferableValue(l.get):y,a[r+6]="set"in l?this.blueGetTransferableValue(l.set):y}g(this.redCallableDefineProperties,this,a)}remapProto(e,t){const r=this.blueGetTransferableValue(e),o=t?this.blueGetTransferableValue(t):t;this.redCallableSetPrototypeOf(r,o)}}const{includes:W}=Array.prototype,{assign:$}=Object,{apply:P,ownKeys:v}=Reflect,T=["AggregateError","Array","Error","EvalError","Function","Object","Proxy","RangeError","ReferenceError","SyntaxError","TypeError","URIError","eval","globalThis"],w=["globalThis","Infinity","NaN","undefined","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","BigInt","Boolean","FinalizationRegistry","Number","RegExp","String","Symbol","WeakRef","JSON","Math","Reflect","escape","unescape",...T];function getFilteredGlobalOwnKeys$LWS(e){const t=[];let r=0;const o=v(e);for(let e=0,{length:n}=o;e<n;e+=1){const n=o[e];P(W,w,[n])||(t[r++]=n)}return t}const x=WeakMap,{apply:O,getPrototypeOf:_,ownKeys:m}=Reflect,{get:A,set:E}=x.prototype,B=new x,H=(()=>{const{navigator:{userAgent:e,userAgentData:t}}=window,r=null==t?void 0:t.brands;if(Array.isArray(r)&&r.length?r.find(e=>"Chromium"===(null==e?void 0:e.brand)):/ (?:Headless)?Chrome\/\d+/.test(e))return["window"]})();function getCachedGlobalObjectReferences$LWS(e){let t=O(A,B,[e]);if(t)return t;const{document:r,window:o}=e,n=_(o),a=_(n),i=_(a);return t={document:r,DocumentProto:_(r),window:o,WindowProto:n,WindowPropertiesProto:a,EventTargetProto:i,EventTargetProtoOwnKeys:m(i)},O(E,B,[e,t]),t}function filterWindowKeys$LWS(e){const t=[];let r=0;for(let o=0,{length:n}=e;o<n;o+=1){const n=e[o];"document"!==n&&"location "!==n&&"top"!==n&&"window"!==n&&"chrome"!==n&&(t[r++]=n)}return t}getCachedGlobalObjectReferences$LWS(window);const C=Object,j=TypeError,{prototype:k}=Document,{prototype:D}=Node,{remove:M,setAttribute:G}=Element.prototype,{appendChild:F}=D,{assign:I}=C,{__lookupGetter__:R}=C.prototype,{apply:N}=Reflect,{close:K,createElement:V,open:U}=k,z=N(R,k,["body"]),X=N(R,HTMLElement.prototype,["style"]),q=N(R,HTMLIFrameElement.prototype,["contentWindow"]),Z=N(R,D,["lastChild"]),Y=document,J=createMembraneMarshall$LWS();let Q=null;function createIframeVirtualEnvironment$LWS(e,t,r){if("object"!=typeof e)throw new j("Missing global object shape.");if("object"!=typeof t||null===t)throw new j("Missing global object virtualization target.");const{distortionCallback:o,endowments:n,instrumentation:a,keepAlive:i=!1}=I({__proto__:null},r),l=function(){const e=N(V,Y,["iframe"]),t=N(z,Y,[])||N(Z,Y,[]);return N(X,e,[]).display="none",N(G,e,["sandbox","allow-same-origin allow-scripts"]),N(F,t,[e]),e}(),s=N(q,l,[]),c=null===e;c&&null===Q&&(Q=filterWindowKeys$LWS(getFilteredGlobalOwnKeys$LWS(s)));const u=getCachedGlobalObjectReferences$LWS(t),p=new VirtualEnvironment$LWS({blueConnector:J,distortionCallback:o,redConnector:createConnector$LWS(s.eval),instrumentation:a});if(!function(e,t){for(let r=0,{length:o}=T;r<o;r+=1){const o=T[r],n=t[o];n&&(n.prototype?e.link(o,"prototype"):e.link(o))}}(p,t),"undefined"==typeof globalThis?p.link("window","document"):p.link("document"),p.link("__proto__","__proto__","__proto__"),p.remapProto(u.document,u.DocumentProto),p.lazyRemapProperties(u.window,c?Q:filterWindowKeys$LWS(getFilteredGlobalOwnKeys$LWS(e)),i?void 0:H),n){const e={};!function(e,t){const r=v(t);for(let o=0,{length:n}=r;o<n;o+=1){const n=r[o];if(!P(W,w,[n])){const r=t[n];r&&(e[n]=$({__proto__:null},r))}}return e}(e,n),delete(y=e).document,delete y.location,delete y.top,delete y.window,delete y.chrome,p.remapProperties(u.window,e)}var y;if(p.lazyRemapProperties(u.EventTargetProto,u.EventTargetProtoOwnKeys),i){const{document:e}=s;N(U,e,[]),N(K,e,[])}else N(M,l,[]);return p}const ee={[e.SANDBOX_EVAL_CONTEXT_NAME]:{__proto__:null,get:()=>clearEvalContext$LWS()},[e.SANDBOX_EVAL_HELPERS_NAME]:{__proto__:null,get:()=>clearEvalHelpers$LWS()}},te=new RegExp(`\\breturn\\s*\\[\\s*(["'])${e.LOCKER_IDENTIFIER_MARKER}\\1\\s*,\\s*([^,\\s]+)\\s*,\\s*(["'])=\\3\\s*,\\s*([^\\]\\s]+)\\s*\\]`,"g"),re=new e.WeakMapCtor,oe={__proto__:null};let ne,ae;function clearEvalContext$LWS(){const e=ne;return ne=void 0,e}function clearEvalHelpers$LWS(){const e=ae;return ae=void 0,e}function createSandbox$LWS(t,r,n,a){const i=new e.WeakMapCtor(r(window)),l=createIframeVirtualEnvironment$LWS(null,window,{distortionCallback(t){const n=e.WeakMapGet(i,t);if(n)return n;if(o.isWindowLike(t)&&o.isWindow(t)){const o=r(t);for(let t=0,{length:r}=o;t<r;t+=1){const{0:r,1:n}=o[t];e.WeakMapSet(i,r,n)}e.WeakMapSet(i,t,t)}return t},endowments:e.ObjectAssign({},ee,n?e.ObjectGetOwnPropertyDescriptors(n):void 0),keepAlive:!1,instrumentation:a}),s={};setEvalContext$LWS(t=>{e.ObjectAssign(s,t({elementToLoadingPromiseMap:re}))});const c={distortionFactory:r,distortions:i,env:l,helpers:s};return l.evaluate(`'use strict';\n        ${e.SANDBOX_EVAL_CONTEXT_NAME}(${function(e){const{elementToLoadingPromiseMap:t}=e,r=Promise,o=TypeError,{asyncIterator:n,iterator:a}=Symbol,{[a]:i}=Array.prototype,l=function*(){}.constructor.prototype.prototype,{next:s,throw:c}=l,{delete:u,get:p,set:y}=Map.prototype,{appendChild:f}=Node.prototype,{freeze:d}=Object,{then:h}=r.prototype,S=r.resolve.bind(r),{apply:b,getPrototypeOf:g,setPrototypeOf:L}=Reflect,{get:W,set:$}=WeakMap.prototype,{createElement:P}=Document.prototype,{querySelector:v,setAttribute:T}=Element.prototype,{stopPropagation:w}=Event.prototype,{addEventListener:x}=EventTarget.prototype,O=document,{head:_}=O,m=new Map,A="data-locker-id",E=`${crypto.getRandomValues(new Uint32Array(1))[0]}`;function genStep$LWS(e,t,r,o,n,a,i){let l,s;try{l=b(a,e,[i]),s=l.value}catch(e){return r(e),void 0}l.done?t(s):S(s).then(o,n)}function loadPromise$LWS(e,o){const n=new r((t,r)=>{b(x,e,["load",()=>{t(void 0)}]),b(x,e,["error",e=>{b(w,e,[]),r(`[Locker] resource loader error loading "${o}"`)}])});return b($,t,[e,n]),b(f,_,[e]),n}return{asyncToGen:function(e,t,o){return new r((r,n)=>{const a=b(e,t,o);function next$LWS(e){genStep$LWS(a,r,n,next$LWS,thrower$LWS,s,e)}function thrower$LWS(e){genStep$LWS(a,r,n,next$LWS,thrower$LWS,c,e)}next$LWS(void 0)})},forAwaitOf:function(e,t,i){if(0===t){let t=!1,{[n]:r}=i;if(null==r&&(t=!0,({[a]:r}=i)),"function"!=typeof r)throw new o("Object is not iterable.");return b(y,m,[e,{iterable:b(r,i,[]),step:void 0,sync:t}]),void 0}const l=b(p,m,[e]);if(1===t){const e=l.iterable.next();return l.sync?new r(t=>{l.step=e,t()}):b(h,e,[e=>{l.step=e}])}if(2===t)return l.step.value;if(3===t){const t=!!l.step.done;return t&&b(u,m,[e]),t}},loadScript:function(e,r){let o=b(v,_,[`script[data-distorted-src='${r}'][data-locker-id='${E}']`]);var n;return o?null!=(n=b(W,t,[o]))?n:S():(o=b(P,O,["script"]),b(T,o,[A,E]),o.type="text/javascript",o.src=r,loadPromise$LWS(o,r))},loadStyle:function(e,r){let o=b(v,_,[`link[href='${r}']`]);var n;return o?null!=(n=b(W,t,[o]))?n:S():(o=b(P,O,["link"]),o.type="text/css",o.rel="stylesheet",o.href=r,loadPromise$LWS(o,r))},namespace:function(e){return d(e)},spreadable:function(e){return L(e,null),e[a]=i,e},super:function(e,t,r,o){const n=g(e.prototype)[t];return b(n,r,o)}}}})`),oe[t]=c,c}function getSandbox$LWS(e){return oe[e]}function setEvalContext$LWS(e){ne=e}function setEvalHelpers$LWS(e){ae=e}function toSource$LWS(t){let r=e.toString(t);return"function"==typeof t&&(r=e.StringMatch(r,/^[\s\S]+?\{(?:[\t ]*\r?\n)?([\s\S]*?)(?:\r?\n[\t ]*)?\}$/)[1]),r=e.StringReplace(r,/\/\/# sandbox(?=MappingURL=.*?\s*$)/,"//# source"),r=e.StringReplace(r,te,(e,t,r,o,n)=>`${r}=${n}`),`'use strict';${r}`}const ie=e.SymbolFor("@@lockerDebugMode");if(e.LOCKER_UNMINIFIED_FLAG){let t=!0;const r=100,o=5,n=100,a=n/2,i=/^[0-9]$|^[1-9][0-9]+$/,l="display: inline-block; margin-bottom: 3px; margin-left: -3px; word-break: break-all; word-wrap: wrap;",s={style:"margin-left:11px; margin-bottom: 3px;"},c={style:"display: inline-block; margin-left:12px; word-break: break-all; word-wrap: wrap;"},u={style:"color: #9d288c; font-weight: bold"},p={style:"color: #b17ab0"},y={style:"color: #16239f"},f={style:"color: #236d25"},d={style:"color: #606367"},h={style:"color: #b82619"},formatValue$LWS=function(t){if(null==t)return["span",d,`${t}`];if("boolean"==typeof t)return["span",y,t];if("number"==typeof t)return e.NumberIsFinite(t)?["span",y,t]:["span",y,(t>=0?"":"-")+"Infinity"];if("string"==typeof t){let r=t;const{length:o}=r;if(o>n){r=`${e.StringSlice(r,0,a)}…${e.StringSlice(r,o-a-1,o)}`}return["span",h,e.JSONStringify(r)]}return e.ArrayIsArray(t)?["span",{},`Array(${t.length})`]:e.isObject(t)?["span",{},"{…}"]:["span",h,e.StringCtor(t)]},formatHeader$LWS=function(t,n={}){const a=[],{isChildElement:l}=n;let s=0;l&&(a[s++]=["span",u,n.childKey],a[s++]=["span",{},": "]);const c=e.ObjectToString(t);let p=e.ObjectKeys(t);if(c===e.TO_STRING_BRAND_SYMBOL)e.ArrayIncludes(p,"description")||e.ArrayUnshift(p,"description");else if(c===e.TO_STRING_BRAND_STRING){const{length:r}=t;p=e.ArrayFilter(p,t=>!e.RegExpTest(i,t)||+t>=r)}const{length:S}=p;if(e.ArrayIsArray(t)){a[s++]=["span",l?d:{},`(${t.length}) [`];for(let o=0,n=e.MathMin(S,r);o<n;o+=1){const e=t[p[o]];a[s++]=["span",{},o?", ":""],a[s++]=formatValue$LWS(e)}return S>r&&(a[s++]=["span",null,["span",{},", …"]]),a[s++]=["span",{},"]"],a}let b,g="{";switch(c){case e.TO_STRING_BRAND_BIG_INT:case e.TO_STRING_BRAND_BOOLEAN:case e.TO_STRING_BRAND_NUMBER:case e.TO_STRING_BRAND_STRING:case e.TO_STRING_BRAND_SYMBOL:{let r=y;c===e.TO_STRING_BRAND_BIG_INT?r=f:c===e.TO_STRING_BRAND_SYMBOL&&(r=h),g=`${e.StringSlice(c,8,-1)} {`,b=["span",r,`${e.StringCtor(e.getNearMembraneSerializedValue(t))}`];break}}a[s++]=["span",{},g],b&&(a[s++]=b,S&&(a[s++]=["span",{},", "]));for(let r=0,n=e.MathMin(S,o);r<n;r+=1){const e=p[r],o=t[e];a[s++]=["span",{},r?", ":""],a[s++]=["span",d,e],a[s++]=["span",{},": "],a[s++]=formatValue$LWS(o)}return S>o&&(a[s++]=["span",null,["span",{},", …"]]),a[s++]=["span",{},"}"],a},formatBody$LWS=function(t){const r=e.ObjectKeys(t),o=e.ReflectOwnKeys(t);e.ArrayIsArray(t)||e.ArraySort(o);const n=[];let a=0;for(let i=0,{length:l}=o;i<l;i+=1){const l=o[i],c=t[l];if(e.isObject(c))n[a++]=["div",{},["object",{object:c,config:{childKey:e.StringCtor(l),isChildElement:!0}}]];else{let t=u;"symbol"!=typeof l&&e.ArrayIncludes(r,l)||(t=p),n[a++]=["div",s,["span",t,e.StringCtor(l)],["span",{},": "],formatValue$LWS(c)]}}return n};let{devtoolsFormatters:S}=window;e.ArrayIsArray(S)||(S=[],e.ReflectDefineProperty(window,"devtoolsFormatters",{__proto__:null,configurable:!0,value:S,writable:!0})),S[S.length]={header(r,o={}){if(t&&(t=!1,e.ReflectDefineProperty(window,ie,{__proto__:null,configurable:!0,value:!0,writable:!0})),!e.isNearMembrane(r))return null;const n=["div",{style:`${l}${o.isChildElement?"":"font-style: italic;"}`}];return e.ReflectApply(e.ArrayProtoPush,n,formatHeader$LWS(r,o)),["div",{},n]},hasBody:()=>!0,body(t){const r=["div",c];return e.ReflectApply(e.ArrayProtoPush,r,formatBody$LWS(t)),r}}}exports.CORE_SANDBOX_KEY="lws-core-sandbox",exports.evaluateInCoreSandbox=function evaluateInCoreSandbox$LWS(o,n,a,i,l=r.defaultInstrumentation,s=!1){const c={sandboxKey:"lws-core-sandbox"},u="object"==typeof l&&null!==l&&l.startActivity,p=u("EvaluateInCoreSandboxDuration",c);let y,f=getSandbox$LWS("lws-core-sandbox");if(void 0===f){e.isObjectLike(i)||(i=void 0);const r={__proto__:null,instrumentation:l,sandboxType:t.SandboxType.Internal,verboseInstrumentation:s},distortionFactory$LWS=e=>{const o=u("createInternalDistortionEntries",c),n=t.createInternalDistortionEntries(e,"lws-core-sandbox",evaluateInCoreSandbox$LWS,r);return o.stop(),n},o=u("createSandbox",c);f=createSandbox$LWS("lws-core-sandbox",distortionFactory$LWS,i,s?l:void 0),o.stop()}setEvalContext$LWS(a),setEvalHelpers$LWS(f.helpers);const d=toSource$LWS(n),h=u("internalEvaluatorDuration",c);try{y=f.env.evaluate(d)}catch(e){throw h.error({sandboxKey:"lws-core-sandbox",error:e}),e}finally{clearEvalContext$LWS(),clearEvalHelpers$LWS(),h.stop()}return p.stop(),y},exports.evaluateInSandbox=function evaluateInSandbox$LWS(o,n,a,i,l=r.defaultInstrumentation,s=!1){const c={sandboxKey:o},u="object"==typeof l&&null!==l&&l.startActivity,p=u("EvaluateInSandboxDuration",c);let y,f=getSandbox$LWS(o);if(void 0===f){e.isObjectLike(i)||(i=void 0);const r={__proto__:null,instrumentation:l,sandboxType:t.SandboxType.External,verboseInstrumentation:s},distortionFactory$LWS=e=>{const n=u("createExternalDistortionEntries",c),a=t.createExternalDistortionEntries(e,o,evaluateInSandbox$LWS,r);return n.stop(),a},n=u("createSandbox",c);f=createSandbox$LWS(o,distortionFactory$LWS,i,s?l:void 0),n.stop()}setEvalContext$LWS(a),setEvalHelpers$LWS(f.helpers);const d=toSource$LWS(n),h=u("externalEvaluatorDuration",c);try{y=f.env.evaluate(d)}catch(e){throw h.error({sandboxKey:o,error:e}),e}finally{clearEvalContext$LWS(),clearEvalHelpers$LWS(),h.stop()}return p.stop(),y};
