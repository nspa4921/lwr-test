import SiteGenerator from './static-generation.js';
import { skipDirCreation } from './utils/dir.js';
import NetworkDispatcher from './utils/network-dispatcher.js';
export async function warmupServer(config, internalRequestKey) {
    console.log('[Server Warmup] starting');
    const { routes, staticSiteGenerator, port } = config;
    staticSiteGenerator.outputDir = skipDirCreation;
    const urlRewriteMap = new Map();
    // For each locale, generate all the modules
    await new SiteGenerator().generateRoutes(staticSiteGenerator, routes, new NetworkDispatcher(port, internalRequestKey), staticSiteGenerator.outputDir, urlRewriteMap);
    console.log('[Server Warmup] complete');
}
//# sourceMappingURL=server-warmup.js.map